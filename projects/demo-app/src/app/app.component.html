<!-- Demo app for ngx-offline-indicator -->
<ngx-offline-indicator [config]="mainConfig"></ngx-offline-indicator>

<div class="container">
  <header>
    <h1>ngx-offline-indicator Demo</h1>
    <p>A lightweight, customizable Angular library for displaying online/offline status indicators.</p>
  </header>

  <section class="status-section">
    <h2>Current Network Status</h2>
    <div class="status-indicator" [class.online]="isOnline" [class.offline]="!isOnline">
      <span class="status-dot"></span>
      <span class="status-text">{{ isOnline ? 'Online' : 'Offline' }}</span>
    </div>
    <p class="status-info">{{ isOnline ? 'Your application is connected to the internet.' : 'Your application is currently offline.' }}</p>

    <div class="event-log">
      <h3>Event Log</h3>
      <div class="log-container">
        <p *ngFor="let log of eventLogs" class="log-entry">{{ log }}</p>
        <p *ngIf="eventLogs.length === 0" class="log-empty">No events logged yet</p>
      </div>
      <button class="secondary-btn" (click)="clearEventLogs()">Clear Log</button>
    </div>
  </section>

  <section class="demo-controls">
    <h2>Test Different Configurations</h2>

    <div class="control-group">
      <label>Indicator Type:</label>
      <div class="radio-group">
        <label>
          <input type="radio" name="type" [checked]="config.type === indicatorTypes.BANNER"
                 (change)="setIndicatorType(indicatorTypes.BANNER)"> Banner
        </label>
        <label>
          <input type="radio" name="type" [checked]="config.type === indicatorTypes.FLOATING"
                 (change)="setIndicatorType(indicatorTypes.FLOATING)"> Floating
        </label>
        <label>
          <input type="radio" name="type" [checked]="config.type === indicatorTypes.STATUS_TEXT"
                 (change)="setIndicatorType(indicatorTypes.STATUS_TEXT)"> Status Text
        </label>
      </div>
    </div>

    <div class="control-group">
      <label>Position:</label>
      <div class="radio-group">
        <label>
          <input type="radio" name="position" [checked]="config.position === indicatorPositions.TOP"
                 (change)="setIndicatorPosition(indicatorPositions.TOP)"> Top
        </label>
        <label>
          <input type="radio" name="position" [checked]="config.position === indicatorPositions.BOTTOM"
                 (change)="setIndicatorPosition(indicatorPositions.BOTTOM)"> Bottom
        </label>
        <label>
          <input type="radio" name="position" [checked]="config.position === indicatorPositions.TOP_LEFT"
                 (change)="setIndicatorPosition(indicatorPositions.TOP_LEFT)"> Top Left
        </label>
        <label>
          <input type="radio" name="position" [checked]="config.position === indicatorPositions.TOP_RIGHT"
                 (change)="setIndicatorPosition(indicatorPositions.TOP_RIGHT)"> Top Right
        </label>
        <label>
          <input type="radio" name="position" [checked]="config.position === indicatorPositions.BOTTOM_LEFT"
                 (change)="setIndicatorPosition(indicatorPositions.BOTTOM_LEFT)"> Bottom Left
        </label>
        <label>
          <input type="radio" name="position" [checked]="config.position === indicatorPositions.BOTTOM_RIGHT"
                 (change)="setIndicatorPosition(indicatorPositions.BOTTOM_RIGHT)"> Bottom Right
        </label>
      </div>
    </div>

    <div class="control-group">
      <label>Theme:</label>
      <div class="radio-group">
        <label>
          <input type="radio" name="theme" [checked]="config.theme === 'light'"
                 (change)="setTheme('light')"> Light
        </label>
        <label>
          <input type="radio" name="theme" [checked]="config.theme === 'dark'"
                 (change)="setTheme('dark')"> Dark
        </label>
      </div>
    </div>

    <div class="control-group">
      <label>Offline Text:</label>
      <input type="text" [value]="config.offlineText"
             (input)="updateOfflineText($event)">
    </div>

    <div class="control-group">
      <label>Online Text:</label>
      <input type="text" [value]="config.onlineText"
             (input)="updateOnlineText($event)">
    </div>

    <div class="control-group">
      <label>Online Indicator Duration (ms):</label>
      <input type="number" [value]="config.onlineIndicatorDuration"
             (input)="updateDuration($event)" min="0">
    </div>

    <div class="control-group">
      <label>Z-Index:</label>
      <input type="number" [value]="config.zIndex"
             (input)="updateZIndex($event)">
    </div>

    <div class="control-group checkbox">
      <input type="checkbox" id="showIcons" [checked]="config.showIcons"
             (change)="toggleShowIcons($event)">
      <label for="showIcons">Show Icons</label>
    </div>

    <div class="control-group checkbox">
      <input type="checkbox" id="showOnlineIndicator" [checked]="config.showOnlineIndicator"
             (change)="toggleShowOnlineIndicator($event)">
      <label for="showOnlineIndicator">Show Online Indicator</label>
    </div>

    <h3>Testing Controls</h3>
    <div class="control-buttons">
      <button class="test-btn" (click)="toggleTestIndicator()">
        {{ showTestIndicator ? 'Hide Test Instance' : 'Show Test Instance' }}
      </button>
      <button class="test-btn" (click)="toggleOfflineSimulation()">
        {{ simulatingOffline ? 'Stop Simulating Offline' : 'Simulate Offline' }}
      </button>
    </div>

    <h3>Manual Event Triggers</h3>
    <div class="control-buttons">
      <button class="secondary-btn" (click)="triggerOfflineEvent()">
        Trigger Offline Event
      </button>
      <button class="secondary-btn" (click)="triggerOnlineEvent()">
        Trigger Online Event
      </button>
    </div>
  </section>

  <section class="usage-example">
    <h2>Usage Example</h2>
    <h3>Basic Component Usage</h3>
    <pre><code>{{usageExample}}</code></pre>

    <h3>Event Subscription Example</h3>
    <pre><code>{{eventListenerExample}}</code></pre>
  </section>

  <section class="documentation">
    <h2>Documentation</h2>
    <p>For complete documentation, view the <a href="https://github.com/thdang1009/ngx-offline-indicator" target="_blank">GitHub repository</a>.</p>
    <p>Check out the API reference and more examples in the <a href="https://github.com/thdang1009/ngx-offline-indicator/blob/main/README.md" target="_blank">README</a>.</p>
  </section>
</div>

<ngx-offline-indicator
  *ngIf="showTestIndicator"
  [config]="testConfig"
></ngx-offline-indicator>

<router-outlet></router-outlet>
